{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Sarus Suite","text":"<p>Sarus Suite is a modular, open-source toolkit built on top of Podman to run containers efficiently on HPC clusters. It aims to combine native HPC performance with the developer productivity of cloud-native tooling, reusing Podman\u2019s fast-moving ecosystem and adding domain-specific HPC expertise. </p> <p>At the center of the suite is the Environment Definition File (EDF). Users describe their environment once in an EDF, while the suite chooses the right runtimes, policies and configuration for each system. Administrators can tune cluster-specific behavior without forcing users to rewrite their container commands. </p> <p>All components are interoperable and can be adopted independently. They plug into existing stacks such as Podman, conmon, crun and Slurm, instead of replacing them. </p> <ul> <li> <p> Component overview</p> <p>Explore cluster tools, transparent storage, performance extensions and developer tooling that make up the suite.</p> <p> Component index</p> </li> <li> <p> Environment Definition File (EDF)</p> <p>Learn how EDF describes images, mounts, devices, environment variables and annotations for hooks.</p> <p> EDF guide</p> </li> <li> <p> Architecture</p> <p>See how Sarus Suite components wrap Podman, Parallax and runtimes like <code>crun</code>.</p> <p> High-level architecture</p> </li> <li> <p> Open Source</p> <p>Browse the repositories, open issues and discussions across all components.</p> <p> sarus-suite on GitHub</p> <p> License</p> </li> </ul>","tags":["HPC","Containers","Podman","OCI"]},{"location":"#why-sarus-suite","title":"Why Sarus Suite?","text":"<ul> <li> <p>EDF at the center. Describe your environment once; reuse it across clusters, jobs and projects without changing commands.</p> </li> <li> <p>Same workflow, different clusters. EDF-driven UX hides site-specific details so you get a consistent experience on any system.</p> </li> <li> <p>Cloud-native and HPC-native. Built on Podman and OCI runtimes, then extended with HPC hooks for Slurm, libfabric, GPUs, MPI and more.</p> </li> <li> <p>Fast starts, full performance. Squashfs, overlay and HPC-tuned hooks give near-native I/O and network performance with container convenience.</p> </li> <li> <p>Fits your existing stack. Integrates with Slurm, identity and policy infrastructure instead of replacing them.</p> </li> <li> <p>Adopt what you need. Use EDF only, or add storage, performance and developer tools as needed \u2014 all components are modular and interoperable.</p> </li> </ul> <p>Sarus Suite provides an EDF-based user experience, Podman compatibility, faster container starts, vendor-grade performance and cleaner operations, with components you can deploy individually or as a full stack. </p>","tags":["HPC","Containers","Podman","OCI"]},{"location":"license/","title":"License","text":"<p>Copyright (c) 2025-2025 ETH Zurich. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ol> <li> <p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</p> </li> </ol> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"admin/installation/","title":"Installation","text":"<p>Installation can be done via the <code>deploy</code> component</p>"},{"location":"admin/installation/#deploy","title":"Deploy","text":"<p>Removes the delivery friction for container tooling. It bundles the many moving pieces of sarus-suite (Sarusctl, Parallax, Podman, conmon, crun, and dependencies) into one consistent suite you can install or unpack system-wide or in userspace. Delivering standardized, working production and development environments with one command.</p> <p>Deploy of sarus-suite standardizes the delivery of the stack and the process: one artifact, one process, same operation everywhere. Onboarding gets simplified. Operations are predictable. Accelerating development.</p>"},{"location":"admin/installation/#what-you-get","title":"What you get","text":"<ul> <li>A coherent sarus-suite: Sarusctl, Parallax, Podman, conmon, crun, and dependencies, pinned to work together and wrapped as a single deliverable.</li> <li>Two delivery paths<ul> <li>Userspace. unpack + configure. Great for development and testing.</li> <li>RPM repository. Install the meta-package.</li> </ul> </li> <li>Get sensible defaults for HPC. Bootstrap sarus-suite with a productive intial configuration to get started.</li> </ul>"},{"location":"admin/installation/#what-deploy-simplifies","title":"What Deploy simplifies","text":"<ul> <li>Version sprawl of the multiple components into <code>one</code> suite. Expressing the whole toolchain as explicit dependencies, so upgrades are coordinated instead of managed individualy.</li> <li>Move from snowflake deployments to reproducible installs. A single setup entrypoint handles the delivery, resolving what is needed.</li> <li>Reproducible builds. We build components in a reproducible environment, so components are consistent.</li> <li>Prevents configuration drift by pinning and packaging. Artifacts are produced and bundled in a predictable structure ammenable for release.</li> </ul>"},{"location":"admin/installation/#quick-start","title":"Quick start","text":""},{"location":"admin/installation/#userspace","title":"Userspace","text":"<p>As a standard user you can deploy it in USERSPACE. This downloads a userspace tarball for your OS/arch, unpacks it to ./sarus-suite/, and runs sarusmgr configure.</p> <pre><code>    # Install\n    curl -sL https://github.com/sarus-suite/deploy/releases/latest/download/setup | sh\n    . sarus-suite/lib/sarus_env\n\n    # Test\n    sarusmgr test\n</code></pre>"},{"location":"admin/installation/#supported-distributions","title":"Supported distributions","text":"<ul> <li>openSUSE Leap 15.5</li> </ul>"},{"location":"architecture/overview/","title":"High-level architecture","text":"<p>At a high level, Sarus Suite wraps the existing OCI stack instead of replacing it:</p> <ul> <li>Cluster tooling: <code>sarusctl</code>, the EDF and the <code>Skybox</code> Slurm SPANK plugin orchestrate container launches in a scheduler-aware way.</li> <li>Transparent storage: <code>Parallax</code> turns pulled images into read-only SquashFS images on a shared image store in the cluster Parallel Filesytem, avoiding redundant pulls across nodes.</li> <li>Performance extentions: CDI configurations, OCI hooks, Podman configuration modules, bundled in the performance extensions, ensure access to accelerators, devices, and optimized HPC libraries and tools, alongside tuned namespaces / cgroups configurations.</li> <li>OSS Runtime layer: Podman and runtimes like <code>crun</code> run containers using the configuration settings and extensions provided by the Sarus-Suite.</li> </ul> <p>For more detail on each component, see the Component index. </p>"},{"location":"components/","title":"Component index","text":"<p>A catalog of Sarus Suite components, their role in the stack, and upstream repositories. </p> Component Category Purpose Repo Releases <code>sarusctl</code> Cluster tools EDF-driven CLI for launches; one command for scheduler-aware, policy-compliant containers https://github.com/sarus-suite/sarusctl https://github.com/sarus-suite/sarusctl/releases <code>skybox</code> Cluster tools Slurm SPANK integration so EDF jobs run with correct cgroups, env and node resources https://github.com/sarus-suite/skybox \u2013 <code>raster</code> Cluster tools EDF parser library; single versioned implementation of the EDF spec https://github.com/sarus-suite/raster \u2013 <code>podman-driver</code> Cluster tools Rust crate to execute Podman and Parallax operations with EDF support https://github.com/sarus-suite/podman-driver \u2013 <code>parallax</code> Transparent storage Lightweight utility that exposes read-only SquashFS images on parallel filesystems (e.g. NFS) https://github.com/sarus-suite/parallax https://github.com/sarus-suite/parallax/releases <code>parallax-mount-program</code> Transparent storage Mount helper for Podman; presents squashed images as normal rootfs layers https://github.com/sarus-suite/parallax-mount-program \u2013 <code>performance-extensions</code> Performance CDI configuration, Podman config modules and hooks for device / performance tuning https://github.com/sarus-suite/performance-extensions \u2013 <code>deploy</code> Dev experience Reproducible development-to-production environments for the suite https://github.com/sarus-suite/deploy \u2013 <code>containerfiles-ci</code> Dev experience Canonical CI build / test images with pinned dependencies https://github.com/sarus-suite/containerfiles-ci \u2013"},{"location":"components/cli-tools/","title":"Cluster tools &amp; developer experience","text":"<p>Sarus Suite ships a set of tools that orchestrate EDF-driven container runs on HPC systems and support development workflows. </p>"},{"location":"components/cli-tools/#sarusctl","title":"sarusctl","text":"<p><code>sarusctl</code> is a simple CLI that launches containers from an EDF. Users submit a single command and get a scheduler-aware, policy-compliant container without having to remember low-level Podman flags. </p>"},{"location":"components/cli-tools/#skybox","title":"Skybox","text":"<p>Skybox is a Slurm SPANK plugin. It ensures EDF jobs submit and run cleanly under Slurm, with the right cgroups, environment and node resources for the allocation. See HPC scheduler plugins for more details. </p>"},{"location":"components/cli-tools/#raster","title":"Raster","text":"<p>Raster is the EDF parser library: a single, versioned implementation of the EDF specification, shared across suite components so EDF semantics stay consistent. </p>"},{"location":"components/cli-tools/#podman-driver","title":"Podman-driver","text":"<p>The podman-driver crate provides a Rust API that executes Podman and Parallax commands with support for EDF files. It is the glue between EDF descriptions and concrete container runtime actions. </p>"},{"location":"components/cli-tools/#developer-tooling","title":"Developer tooling","text":"<p>Two components help with development and CI: </p> <ul> <li>deploy \u2013 reproducible dev-to-prod environments and fast onboarding.</li> <li>containerfiles-ci \u2013 canonical build/test images with pinned dependencies, making CI behavior reproducible and easier to debug.</li> </ul>"},{"location":"components/hpc-scheduler-plugins/","title":"HPC scheduler plugins","text":"<p>Sarus Suite integrates cleanly with cluster schedulers rather than replacing them.</p>"},{"location":"components/hpc-scheduler-plugins/#skybox-slurm-spank","title":"Skybox (Slurm SPANK)","text":"<p>Skybox is a SPANK plugin for Slurm that understands EDF. It ensures that jobs launched with <code>sarusctl</code> or other suite tooling: </p> <ul> <li>inherit the correct cgroups and accounting information</li> <li>get the right environment and node resources for the allocation</li> <li>remain compliant with site policies around container use</li> </ul> <p>Future integrations can follow the same pattern, adding EDF-aware plugins for other schedulers while keeping the EDF and CLI stable.</p>"},{"location":"components/podman-integration/","title":"Storage &amp; Podman integration","text":"<p>Sarus Suite is built around Podman and OCI runtimes, focusing on HPC-friendly storage and performance extensions. </p>"},{"location":"components/podman-integration/#transparent-storage-with-parallax","title":"Transparent storage with Parallax","text":"<p>Parallax is a lightweight Go utility that optimizes Podman for HPC systems by: </p> <ul> <li>converting images into read-only SquashFS images on a shared parallel filesystem (e.g. NFS),</li> <li>enabling multiple nodes to reuse images without redundant pulls,</li> <li>remaining compatible with existing Podman workflows.</li> </ul> <p>The parallax-mount-program is a helper program for Podman that presents these SquashFS images as normal rootfs layers so containers \u201cjust work\u201d from the user\u2019s perspective. </p>"},{"location":"components/podman-integration/#performance-extensions","title":"Performance extensions","text":"<p>The performance-extensions component bundles:</p> <ul> <li>CDI (Container Device Interface) configurations for GPUs, Networking, and other accelerators</li> <li>Podman config modules that tune namespaces and cgroups for native HPC performance</li> <li>sarus-hooks, which use EDF annotations to enable specific performance features at container start (e.g. CXI hooks, NCCL configurations, CUDA MPS) while keeping binaries static and easy to deploy. </li> </ul> <p>Combined, these features allow EDF-described containers to reach native performance on HPC systems using Podman as the primary runtime.</p>"},{"location":"developer/contributing/","title":"Contributing","text":"<ul> <li>GitHub organization: https://github.com/sarus-suite</li> <li>Please open issues or discussions in the most relevant component repository. </li> </ul>"},{"location":"user/edf/","title":"Environment Definition File (EDF)","text":"<p>The Environment Definition File (EDF) is the central abstraction in Sarus Suite. An EDF is a small, declarative file that describes:</p> <ul> <li>Which image to run</li> <li>Which paths to mount into the container</li> <li>The working directory and entrypoint behavior</li> <li>Environment variables</li> <li>Annotations that control hooks and performance extensions </li> </ul> <p>EDF lets users define their runtime environment once. The suite then maps that description onto Podman, Parallax, scheduler integrations and device configuration on each cluster. </p>"},{"location":"user/edf/#example-edf","title":"Example EDF","text":"<pre><code>image = \"ghcr.io#sarus-suite/containerfiles-ci/transformers:latest-arm64\"\nmounts = [\"/iopsstor/scratch/models/hf:/opt/hf\",\n          \"/iopsstor/scratch/data:/data\",\n          \"/iopsstor/scratch/output:/output\"]\nworkdir = \"${SCRATCH}\"\nentrypoint = false\n\n[env]\nHUGGINGFACE_HUB_CACHE = \"/opt/hf/hub\"\nTRANSFORMERS_CACHE = \"/opt/hf/transformers\"\nDEBUG = \"false\"\n\n[annotations]\ncom.hooks.cxi.enabled = \"true\"\ncom.hooks.aws_ofi_nccl.enabled = \"true\"\ncom.hooks.aws_ofi_nccl.variant = \"cuda12\"\ncom.hooks.nvidia_cuda_mps.enabled = \"true\"\n</code></pre> <p>This EDF describes an ML workload based on the transformers library, pulling a container image from GitHub Container Registry, mounting model/data/output paths from a shared filesystem, and configuring caches via environment variables. The annotations enable specific hooks (e.g. CXI, NCCL, NVIDIA CUDA MPS) so that the container can leverage the underlying HPC system.</p>"},{"location":"user/quickstart/","title":"Quickstart","text":"<p>Follow these steps to use Sarus Suite on your HPC cluster.</p> <ol> <li> <p>Load environment</p> <pre><code>module load sarus-suite podman\n</code></pre> </li> <li> <p>Submit a simple job</p> SLURMPBS <pre><code>sbatch -N1 -t 10 --wrap='sarus-run podman run hello-world'\n</code></pre> <pre><code>qsub -l select=1:ncpus=4 -l walltime=00:10:00 -- sarus-run podman run hello-world\n</code></pre> </li> <li> <p>Validate output \u2014 You should see container output in the job logs.</p> </li> </ol>"}]}